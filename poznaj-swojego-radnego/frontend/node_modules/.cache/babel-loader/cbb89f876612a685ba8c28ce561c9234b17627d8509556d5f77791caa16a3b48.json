{"ast":null,"code":"import { PostgrestBuilder } from './types';\nimport PostgrestFilterBuilder from './PostgrestFilterBuilder';\nexport default class PostgrestRpcBuilder extends PostgrestBuilder {\n  constructor(url, {\n    headers = {},\n    schema,\n    fetch,\n    shouldThrowOnError\n  } = {}) {\n    super({\n      fetch,\n      shouldThrowOnError\n    });\n    this.url = new URL(url);\n    this.headers = Object.assign({}, headers);\n    this.schema = schema;\n  }\n  /**\n   * Perform a function call.\n   */\n  rpc(params, {\n    head = false,\n    count = null\n  } = {}) {\n    if (head) {\n      this.method = 'HEAD';\n      if (params) {\n        Object.entries(params).forEach(([name, value]) => {\n          this.url.searchParams.append(name, value);\n        });\n      }\n    } else {\n      this.method = 'POST';\n      this.body = params;\n    }\n    if (count) {\n      if (this.headers['Prefer'] !== undefined) this.headers['Prefer'] += `,count=${count}`;else this.headers['Prefer'] = `count=${count}`;\n    }\n    return new PostgrestFilterBuilder(this);\n  }\n}","map":{"version":3,"names":["PostgrestBuilder","PostgrestFilterBuilder","PostgrestRpcBuilder","constructor","url","headers","schema","fetch","shouldThrowOnError","URL","Object","assign","rpc","params","head","count","method","entries","forEach","name","value","searchParams","append","body","undefined"],"sources":["/Users/tomek/Documents/Poznaj_swojego_radnego/poznaj-swojego-radnego/frontend/node_modules/@supabase/postgrest-js/src/lib/PostgrestRpcBuilder.ts"],"sourcesContent":["import { Fetch, PostgrestBuilder } from './types'\nimport PostgrestFilterBuilder from './PostgrestFilterBuilder'\n\nexport default class PostgrestRpcBuilder<T> extends PostgrestBuilder<T> {\n  constructor(\n    url: string,\n    {\n      headers = {},\n      schema,\n      fetch,\n      shouldThrowOnError,\n    }: {\n      headers?: { [key: string]: string }\n      schema?: string\n      fetch?: Fetch\n      shouldThrowOnError?: boolean\n    } = {}\n  ) {\n    super(({ fetch, shouldThrowOnError } as unknown) as PostgrestBuilder<T>)\n    this.url = new URL(url)\n    this.headers = { ...headers }\n    this.schema = schema\n  }\n\n  /**\n   * Perform a function call.\n   */\n  rpc(\n    params?: object,\n    {\n      head = false,\n      count = null,\n    }: {\n      head?: boolean\n      count?: null | 'exact' | 'planned' | 'estimated'\n    } = {}\n  ): PostgrestFilterBuilder<T> {\n    if (head) {\n      this.method = 'HEAD'\n\n      if (params) {\n        Object.entries(params).forEach(([name, value]) => {\n          this.url.searchParams.append(name, value)\n        })\n      }\n    } else {\n      this.method = 'POST'\n      this.body = params\n    }\n\n    if (count) {\n      if (this.headers['Prefer'] !== undefined) this.headers['Prefer'] += `,count=${count}`\n      else this.headers['Prefer'] = `count=${count}`\n    }\n\n    return new PostgrestFilterBuilder(this)\n  }\n}\n"],"mappings":"AAAA,SAAgBA,gBAAgB,QAAQ,SAAS;AACjD,OAAOC,sBAAsB,MAAM,0BAA0B;AAE7D,eAAc,MAAOC,mBAAuB,SAAQF,gBAAmB;EACrEG,YACEC,GAAW,EACX;IACEC,OAAO,GAAG,EAAE;IACZC,MAAM;IACNC,KAAK;IACLC;EAAkB,IAMhB,EAAE;IAEN,KAAK,CAAE;MAAED,KAAK;MAAEC;IAAkB,CAAqC,CAAC;IACxE,IAAI,CAACJ,GAAG,GAAG,IAAIK,GAAG,CAACL,GAAG,CAAC;IACvB,IAAI,CAACC,OAAO,GAAAK,MAAA,CAAAC,MAAA,KAAQN,OAAO,CAAE;IAC7B,IAAI,CAACC,MAAM,GAAGA,MAAM;EACtB;EAEA;;;EAGAM,GAAGA,CACDC,MAAe,EACf;IACEC,IAAI,GAAG,KAAK;IACZC,KAAK,GAAG;EAAI,IAIV,EAAE;IAEN,IAAID,IAAI,EAAE;MACR,IAAI,CAACE,MAAM,GAAG,MAAM;MAEpB,IAAIH,MAAM,EAAE;QACVH,MAAM,CAACO,OAAO,CAACJ,MAAM,CAAC,CAACK,OAAO,CAAC,CAAC,CAACC,IAAI,EAAEC,KAAK,CAAC,KAAI;UAC/C,IAAI,CAAChB,GAAG,CAACiB,YAAY,CAACC,MAAM,CAACH,IAAI,EAAEC,KAAK,CAAC;QAC3C,CAAC,CAAC;;KAEL,MAAM;MACL,IAAI,CAACJ,MAAM,GAAG,MAAM;MACpB,IAAI,CAACO,IAAI,GAAGV,MAAM;;IAGpB,IAAIE,KAAK,EAAE;MACT,IAAI,IAAI,CAACV,OAAO,CAAC,QAAQ,CAAC,KAAKmB,SAAS,EAAE,IAAI,CAACnB,OAAO,CAAC,QAAQ,CAAC,IAAI,UAAUU,KAAK,EAAE,MAChF,IAAI,CAACV,OAAO,CAAC,QAAQ,CAAC,GAAG,SAASU,KAAK,EAAE;;IAGhD,OAAO,IAAId,sBAAsB,CAAC,IAAI,CAAC;EACzC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}